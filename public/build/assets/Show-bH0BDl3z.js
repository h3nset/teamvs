import{r as h,c as $,a as A,w as m,b as _,d as t,u as f,h as B,l as L,e as T,f as v,n as p,o as u,F as g,g as w,i as b,t as o}from"./app-DLopVSxv.js";import{A as S}from"./AppLayout-Rph3KRIr.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"page-header"},P={class:"flex gap-2 mb-6 flex-wrap"},j=["onClick"],M={class:"card overflow-hidden"},N={class:"overflow-x-auto"},z={class:"w-full"},D={class:"bg-white/5"},F={class:"text-left text-sm text-gray-400"},O={class:"px-4 py-3"},W={class:"px-4 py-3"},E={class:"font-medium text-white"},I={class:"text-xs text-gray-500"},q={class:"px-4 py-3"},G={class:"flex items-center gap-2"},H={class:"text-gray-400"},J={class:"px-4 py-3 text-center text-gray-400"},K={class:"px-4 py-3 text-center text-green-400 font-medium"},Q={class:"px-4 py-3 text-center text-red-400"},R={class:"px-4 py-3 text-center"},U={class:"px-4 py-3 text-right font-bold text-white"},X={class:"px-4 py-3 text-right text-gray-400"},Y={class:"px-4 py-3 text-right"},Z={class:"mt-8 grid gap-4 md:grid-cols-4"},tt={class:"card p-4 text-center"},et={class:"text-2xl font-bold text-white"},st={class:"card p-4 text-center"},ot={class:"text-2xl font-bold text-green-400"},nt={class:"card p-4 text-center"},lt={class:"text-2xl font-bold text-white"},at={class:"card p-4 text-center"},rt={class:"text-2xl font-bold text-white"},pt={__name:"Show",props:{tournament:Object,teams:Array,leaderboard:Array,stats:Object},setup(l){const k=l,r=h(null),c=h("points_for"),x=h(!0),C=$(()=>{let n=[...k.leaderboard];return r.value&&(n=n.filter(e=>e.team_id===r.value)),n.sort((e,s)=>{const a=e[c.value],y=s[c.value];return x.value?y-a:a-y}),n}),i=n=>{c.value===n?x.value=!x.value:(c.value=n,x.value=!0)},d=n=>c.value!==n?"":x.value?"↓":"↑";return(n,e)=>(u(),A(S,null,{default:m(()=>[_(f(B),{title:`Leaderboard - ${l.tournament.name}`},null,8,["title"]),t("div",V,[t("div",null,[_(f(L),{href:n.route("tournaments.show",l.tournament.id),class:"text-gray-400 hover:text-white text-sm flex items-center gap-1 mb-2"},{default:m(()=>[...e[8]||(e[8]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),T(" Back to tournament ",-1)])]),_:1},8,["href"]),e[9]||(e[9]=t("h1",{class:"page-title"},"Leaderboard",-1))])]),t("div",P,[t("button",{onClick:e[0]||(e[0]=s=>r.value=null),class:p(["btn btn-sm",r.value?"btn-secondary":"btn-primary"])}," All Teams ",2),(u(!0),v(g,null,w(l.teams,s=>(u(),v("button",{key:s.id,onClick:a=>r.value=s.id,class:p(["btn btn-sm",r.value===s.id?"btn-primary":"btn-secondary"]),style:b(r.value===s.id?{backgroundColor:s.color}:{})},o(s.name),15,j))),128))]),t("div",M,[t("div",N,[t("table",z,[t("thead",D,[t("tr",F,[e[10]||(e[10]=t("th",{class:"px-4 py-3 w-12"},"#",-1)),e[11]||(e[11]=t("th",{class:"px-4 py-3"},"Pair",-1)),e[12]||(e[12]=t("th",{class:"px-4 py-3"},"Team",-1)),t("th",{class:"px-4 py-3 text-center cursor-pointer hover:text-white",onClick:e[1]||(e[1]=s=>i("matches_played"))}," Played "+o(d("matches_played")),1),t("th",{class:"px-4 py-3 text-center cursor-pointer hover:text-white",onClick:e[2]||(e[2]=s=>i("wins"))}," Wins "+o(d("wins")),1),t("th",{class:"px-4 py-3 text-center cursor-pointer hover:text-white",onClick:e[3]||(e[3]=s=>i("losses"))}," Losses "+o(d("losses")),1),t("th",{class:"px-4 py-3 text-center cursor-pointer hover:text-white",onClick:e[4]||(e[4]=s=>i("win_rate"))}," Win % "+o(d("win_rate")),1),t("th",{class:"px-4 py-3 text-right cursor-pointer hover:text-white",onClick:e[5]||(e[5]=s=>i("points_for"))}," Points "+o(d("points_for")),1),t("th",{class:"px-4 py-3 text-right cursor-pointer hover:text-white",onClick:e[6]||(e[6]=s=>i("points_against"))}," Against "+o(d("points_against")),1),t("th",{class:"px-4 py-3 text-right cursor-pointer hover:text-white",onClick:e[7]||(e[7]=s=>i("point_diff"))}," +/- "+o(d("point_diff")),1)])]),t("tbody",null,[(u(!0),v(g,null,w(C.value,(s,a)=>(u(),v("tr",{key:s.id,class:"border-t border-white/10 hover:bg-white/5"},[t("td",O,[t("span",{class:p(["font-bold",a===0?"text-yellow-400":a===1?"text-gray-300":a===2?"text-amber-600":"text-gray-500"])},o(a+1),3)]),t("td",W,[t("div",E,o(s.name),1),t("div",I,o(s.player1)+" & "+o(s.player2),1)]),t("td",q,[t("div",G,[t("div",{class:"w-3 h-3 rounded",style:b({backgroundColor:s.team_color})},null,4),t("span",H,o(s.team_name),1)])]),t("td",J,o(s.matches_played),1),t("td",K,o(s.wins),1),t("td",Q,o(s.losses),1),t("td",R,[t("span",{class:p(s.win_rate>=50?"text-green-400":"text-gray-400")},o(s.win_rate)+"% ",3)]),t("td",U,o(s.points_for),1),t("td",X,o(s.points_against),1),t("td",Y,[t("span",{class:p(s.point_diff>0?"text-green-400":s.point_diff<0?"text-red-400":"text-gray-400")},o(s.point_diff>0?"+":"")+o(s.point_diff),3)])]))),128))])])])]),t("div",Z,[t("div",tt,[t("div",et,o(l.stats.total_matches),1),e[13]||(e[13]=t("div",{class:"text-sm text-gray-400"},"Total Matches",-1))]),t("div",st,[t("div",ot,o(l.stats.completed_matches),1),e[14]||(e[14]=t("div",{class:"text-sm text-gray-400"},"Completed",-1))]),t("div",nt,[t("div",lt,o(l.stats.total_points_scored),1),e[15]||(e[15]=t("div",{class:"text-sm text-gray-400"},"Total Points",-1))]),t("div",at,[t("div",rt,o(l.stats.average_points_per_match),1),e[16]||(e[16]=t("div",{class:"text-sm text-gray-400"},"Avg/Match",-1))])])]),_:1}))}};export{pt as default};
