import{r as S,j as D,c as z,a as v,w as f,b as j,d as e,f as l,k as y,u as i,h as te,l as p,e as h,t as r,n as E,o as n,F as _,g as C,i as M,T as U,s as V,v as B,x as A,m as P}from"./app-BowEnxnU.js";import{A as se}from"./AppLayout-BVoKJHn8.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const ae={class:"page-header"},oe={class:"flex items-center gap-3"},le={class:"page-title"},re={class:"flex items-center gap-3 flex-wrap"},ie={key:0,class:"card p-4 mb-6 flex items-center justify-between"},de={class:"text-sm text-gray-400"},ue={key:0},me={key:1},ce={class:"flex gap-3"},be=["disabled"],ye={key:1,class:"card p-4 mb-6 flex items-center justify-between"},fe={class:"text-sm text-gray-400"},pe={class:"mb-8"},he={class:"flex items-center justify-between mb-4"},ve={key:0,class:"card p-8 text-center text-gray-400"},ge={key:1,class:"grid gap-4 md:grid-cols-2"},xe={class:"flex items-center justify-between mb-3"},ke={class:"flex items-center gap-3"},we={class:"text-lg font-semibold text-white"},_e={key:0,class:"flex gap-2"},Ce=["onClick"],Te=["onClick"],Se={class:"space-y-2"},je={class:"text-sm text-white"},Me={class:"text-sm text-white"},Be={key:0,class:"flex gap-2"},Ae=["onClick"],Pe=["onClick"],Ve=["onClick"],Fe={key:2,class:"mb-8"},$e={class:"card overflow-hidden"},Le={class:"table"},Ee={class:"font-semibold"},Ne={class:"flex items-center gap-2"},De={class:"text-right"},ze={class:"text-right font-semibold text-primary"},Ue={key:3,class:"mb-8"},Re={class:"flex items-center justify-between mb-4"},qe={class:"text-sm font-semibold text-gray-400 uppercase mb-3"},Ge={class:"grid gap-3 md:grid-cols-2"},He={class:"text-right"},Oe={class:"flex items-center justify-end gap-2"},We={class:"text-sm text-white"},Ie={class:"text-xs text-gray-500"},Je={class:"text-center"},Ke={key:0,class:"flex items-center justify-center gap-2"},Qe={class:"score-display text-2xl"},Xe={class:"score-display text-2xl"},Ye={class:"text-left"},Ze={class:"flex items-center gap-2"},et={class:"text-sm text-white"},tt={class:"text-xs text-gray-500"},st={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},nt={class:"text-lg font-semibold text-white mb-4"},at={class:"flex gap-2 flex-wrap"},ot=["onClick"],lt={class:"flex justify-end gap-3 pt-4"},rt=["disabled"],it={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},dt={class:"text-lg font-semibold text-white mb-4"},ut={class:"flex justify-end gap-3 pt-4"},mt=["disabled"],ct={__name:"Show",props:{tournament:Object,standings:Array,scheduleStats:Object},setup(o){const m=o,g=S(!1),x=S(!1),T=S(null),k=S(null),w=S(null),u=D({name:"",description:"",color:"#3B82F6"}),c=D({player1_name:"",player2_name:"",display_name:""}),F=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4","#84CC16"],N=z(()=>m.tournament.status==="draft"&&m.tournament.teams.length>=2&&m.tournament.teams.every(a=>a.pairs.length>=1)),R=z(()=>{if(!m.tournament.matches)return{};const a={};return m.tournament.matches.forEach(t=>{a[t.round_number]||(a[t.round_number]=[]),a[t.round_number].push(t)}),a}),q=()=>{k.value=null,u.reset(),u.color=F[m.tournament.teams.length%F.length],g.value=!0},G=a=>{k.value=a,u.name=a.name,u.description=a.description||"",u.color=a.color,g.value=!0},H=()=>{k.value?u.put(route("tournaments.teams.update",[m.tournament.id,k.value.id]),{onSuccess:()=>{g.value=!1,u.reset()}}):u.post(route("tournaments.teams.store",m.tournament.id),{onSuccess:()=>{g.value=!1,u.reset()}})},O=a=>{confirm(`Delete team "${a.name}" and all its pairs?`)&&P.delete(route("tournaments.teams.destroy",[m.tournament.id,a.id]))},W=a=>{T.value=a,w.value=null,c.reset(),x.value=!0},I=(a,t)=>{T.value=a,w.value=t,c.player1_name=t.player1_name,c.player2_name=t.player2_name,c.display_name=t.display_name||"",x.value=!0},J=()=>{w.value?c.put(route("tournaments.teams.pairs.update",[m.tournament.id,T.value.id,w.value.id]),{onSuccess:()=>{x.value=!1,c.reset()}}):c.post(route("tournaments.teams.pairs.store",[m.tournament.id,T.value.id]),{onSuccess:()=>{x.value=!1,c.reset()}})},K=(a,t)=>{confirm(`Delete pair "${t.player1_name} & ${t.player2_name}"?`)&&P.delete(route("tournaments.teams.pairs.destroy",[m.tournament.id,a.id,t.id]))},Q=()=>{confirm("Generate match schedule? This will replace any existing schedule.")&&P.post(route("tournaments.generate-schedule",m.tournament.id))},X=()=>{confirm("Start the tournament? Teams and pairs cannot be modified after starting.")&&P.post(route("tournaments.start",m.tournament.id))},Y=()=>{confirm("Mark tournament as completed?")&&P.post(route("tournaments.complete",m.tournament.id))},Z=a=>({draft:"badge-info",active:"badge-success",completed:"badge-primary",cancelled:"badge-warning"})[a]||"badge-info",ee=a=>({scheduled:"text-gray-400",in_progress:"text-yellow-400",completed:"text-green-400"})[a]||"text-gray-400";return(a,t)=>(n(),v(se,null,{default:f(()=>[j(i(te),{title:o.tournament.name},null,8,["title"]),e("div",ae,[e("div",null,[j(i(p),{href:a.route("tournaments.index"),class:"text-gray-400 hover:text-white text-sm flex items-center gap-1 mb-2"},{default:f(()=>[...t[9]||(t[9]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),h(" Back to tournaments ",-1)])]),_:1},8,["href"]),e("div",oe,[e("h1",le,r(o.tournament.name),1),e("span",{class:E(["badge",Z(o.tournament.status)])},r(o.tournament.status),3)])]),e("div",re,[j(i(p),{href:a.route("tournaments.statistics",o.tournament.id),class:"btn btn-secondary"},{default:f(()=>[...t[10]||(t[10]=[h(" ðŸ“Š Statistics ",-1)])]),_:1},8,["href"]),j(i(p),{href:a.route("tournaments.leaderboard",o.tournament.id),class:"btn btn-secondary"},{default:f(()=>[...t[11]||(t[11]=[h(" ðŸ† Leaderboard ",-1)])]),_:1},8,["href"]),o.tournament.status!=="draft"?(n(),v(i(p),{key:0,href:a.route("tournaments.scoreboard",o.tournament.id),class:"btn btn-secondary"},{default:f(()=>[...t[12]||(t[12]=[h(" Scoreboard ",-1)])]),_:1},8,["href"])):y("",!0),o.tournament.status!=="draft"?(n(),v(i(p),{key:1,href:a.route("tournaments.tv",o.tournament.id),class:"btn btn-secondary",target:"_blank"},{default:f(()=>[...t[13]||(t[13]=[h(" TV Mode ",-1)])]),_:1},8,["href"])):y("",!0),o.tournament.status==="completed"?(n(),v(i(p),{key:2,href:a.route("tournaments.complete.show",o.tournament.id),class:"btn btn-success"},{default:f(()=>[...t[14]||(t[14]=[h(" ðŸŽ‰ View Winner ",-1)])]),_:1},8,["href"])):y("",!0)])]),o.tournament.status==="draft"?(n(),l("div",ie,[e("div",de,[N.value?(n(),l("span",me," Ready to generate schedule with "+r(o.tournament.teams.length)+" teams. ",1)):(n(),l("span",ue," Add at least 2 teams with pairs to generate schedule. "))]),e("div",ce,[e("button",{onClick:Q,class:"btn btn-secondary",disabled:!N.value}," Generate Schedule ",8,be),o.tournament.matches&&o.tournament.matches.length>0?(n(),l("button",{key:0,onClick:X,class:"btn btn-success"}," Start Tournament ")):y("",!0)])])):y("",!0),o.tournament.status==="active"?(n(),l("div",ye,[e("div",fe," Tournament in progress. "+r(o.scheduleStats.total_matches)+" matches scheduled. ",1),e("button",{onClick:Y,class:"btn btn-primary"}," Complete Tournament ")])):y("",!0),e("div",pe,[e("div",he,[t[15]||(t[15]=e("h2",{class:"text-xl font-semibold text-white"},"Teams",-1)),o.tournament.status==="draft"?(n(),l("button",{key:0,onClick:q,class:"btn btn-sm btn-secondary"}," + Add Team ")):y("",!0)]),o.tournament.teams.length===0?(n(),l("div",ve," No teams yet. Add teams to get started. ")):(n(),l("div",ge,[(n(!0),l(_,null,C(o.tournament.teams,s=>(n(),l("div",{key:s.id,class:"card p-4"},[e("div",xe,[e("div",ke,[e("div",{class:"w-4 h-8 rounded",style:M({backgroundColor:s.color})},null,4),e("h3",we,r(s.name),1)]),o.tournament.status==="draft"?(n(),l("div",_e,[e("button",{onClick:b=>G(s),class:"text-gray-400 hover:text-white"},[...t[16]||(t[16]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,Ce),e("button",{onClick:b=>O(s),class:"text-gray-400 hover:text-red-400"},[...t[17]||(t[17]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Te)])):y("",!0)]),e("div",Se,[(n(!0),l(_,null,C(s.pairs,b=>(n(),l("div",{key:b.id,class:"flex items-center justify-between p-2 rounded bg-white/5"},[e("div",null,[e("span",je,r(b.player1_name),1),t[18]||(t[18]=e("span",{class:"text-gray-500 mx-2"},"&",-1)),e("span",Me,r(b.player2_name),1)]),o.tournament.status==="draft"?(n(),l("div",Be,[e("button",{onClick:d=>I(s,b),class:"text-gray-400 hover:text-white"},[...t[19]||(t[19]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,Ae),e("button",{onClick:d=>K(s,b),class:"text-gray-400 hover:text-red-400"},[...t[20]||(t[20]=[e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Pe)])):y("",!0)]))),128)),o.tournament.status==="draft"?(n(),l("button",{key:0,onClick:b=>W(s),class:"w-full p-2 text-sm text-gray-400 hover:text-white hover:bg-white/5 rounded border border-dashed border-gray-700 transition"}," + Add Pair ",8,Ve)):y("",!0)])]))),128))]))]),o.standings&&o.standings.length>0?(n(),l("div",Fe,[t[22]||(t[22]=e("h2",{class:"text-xl font-semibold text-white mb-4"},"Standings",-1)),e("div",$e,[e("table",Le,[t[21]||(t[21]=e("thead",null,[e("tr",null,[e("th",null,"Rank"),e("th",null,"Team"),e("th",{class:"text-right"},"Wins"),e("th",{class:"text-right"},"Points")])],-1)),e("tbody",null,[(n(!0),l(_,null,C(o.standings,(s,b)=>(n(),l("tr",{key:s.id},[e("td",Ee,r(b+1),1),e("td",null,[e("div",Ne,[e("div",{class:"w-3 h-3 rounded",style:M({backgroundColor:s.color})},null,4),h(" "+r(s.name),1)])]),e("td",De,r(s.total_wins),1),e("td",ze,r(s.total_points),1)]))),128))])])])])):y("",!0),o.tournament.matches&&o.tournament.matches.length>0?(n(),l("div",Ue,[e("div",Re,[t[24]||(t[24]=e("h2",{class:"text-xl font-semibold text-white"},"Match Schedule",-1)),j(i(p),{href:a.route("tournaments.matches.index",o.tournament.id),class:"btn btn-sm btn-secondary"},{default:f(()=>[...t[23]||(t[23]=[h(" View All Matches ",-1)])]),_:1},8,["href"])]),(n(!0),l(_,null,C(R.value,(s,b)=>(n(),l("div",{key:b,class:"mb-6"},[e("h3",qe,"Round "+r(b),1),e("div",Ge,[(n(!0),l(_,null,C(s.slice(0,4),d=>(n(),v(i(p),{key:d.id,href:a.route("tournaments.matches.show",[o.tournament.id,d.id]),class:"card p-4 match-card hover:bg-white/5 transition"},{default:f(()=>[e("div",He,[e("div",Oe,[e("span",We,r(d.home_pair?.player1_name)+" & "+r(d.home_pair?.player2_name),1),e("div",{class:"w-2 h-2 rounded",style:M({backgroundColor:d.home_pair?.team?.color})},null,4)]),e("div",Ie,r(d.home_pair?.team?.name),1)]),e("div",Je,[d.status==="completed"?(n(),l("div",Ke,[e("span",Qe,r(d.scores?.reduce(($,L)=>$+L.home_score,0)),1),t[25]||(t[25]=e("span",{class:"text-gray-500"},"-",-1)),e("span",Xe,r(d.scores?.reduce(($,L)=>$+L.away_score,0)),1)])):(n(),l("div",{key:1,class:E(["text-xs uppercase",ee(d.status)])},r(d.status.replace("_"," ")),3))]),e("div",Ye,[e("div",Ze,[e("div",{class:"w-2 h-2 rounded",style:M({backgroundColor:d.away_pair?.team?.color})},null,4),e("span",et,r(d.away_pair?.player1_name)+" & "+r(d.away_pair?.player2_name),1)]),e("div",tt,r(d.away_pair?.team?.name),1)])]),_:2},1032,["href"]))),128))])]))),128))])):y("",!0),(n(),v(U,{to:"body"},[g.value?(n(),l("div",st,[e("div",{class:"card p-6 w-full max-w-md animate-slide-up",onClick:t[3]||(t[3]=V(()=>{},["stop"]))},[e("h3",nt,r(k.value?"Edit Team":"Add Team"),1),e("form",{onSubmit:V(H,["prevent"]),class:"space-y-4"},[e("div",null,[t[26]||(t[26]=e("label",{class:"label"},"Team Name",-1)),B(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i(u).name=s),type:"text",class:"input",placeholder:"e.g., Team Alpha",required:""},null,512),[[A,i(u).name]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"label"},"Description (optional)",-1)),B(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>i(u).description=s),class:"input",rows:"2"},null,512),[[A,i(u).description]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"label"},"Team Color",-1)),e("div",at,[(n(),l(_,null,C(F,s=>e("button",{key:s,type:"button",onClick:b=>i(u).color=s,class:E(["w-8 h-8 rounded-lg transition-transform",{"ring-2 ring-white ring-offset-2 ring-offset-gray-900 scale-110":i(u).color===s}]),style:M({backgroundColor:s})},null,14,ot)),64))])]),e("div",lt,[e("button",{type:"button",onClick:t[2]||(t[2]=s=>g.value=!1),class:"btn btn-secondary"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary",disabled:i(u).processing},r(k.value?"Save Changes":"Add Team"),9,rt)])],32)])])):y("",!0)])),(n(),v(U,{to:"body"},[x.value?(n(),l("div",it,[e("div",{class:"card p-6 w-full max-w-md animate-slide-up",onClick:t[8]||(t[8]=V(()=>{},["stop"]))},[e("h3",dt,r(w.value?"Edit Pair":"Add Pair")+" - "+r(T.value?.name),1),e("form",{onSubmit:V(J,["prevent"]),class:"space-y-4"},[e("div",null,[t[29]||(t[29]=e("label",{class:"label"},"Player 1 Name",-1)),B(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>i(c).player1_name=s),type:"text",class:"input",placeholder:"First player name",required:""},null,512),[[A,i(c).player1_name]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"label"},"Player 2 Name",-1)),B(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>i(c).player2_name=s),type:"text",class:"input",placeholder:"Second player name",required:""},null,512),[[A,i(c).player2_name]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"label"},"Display Name (optional)",-1)),B(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>i(c).display_name=s),type:"text",class:"input",placeholder:"e.g., The Topspin Twins"},null,512),[[A,i(c).display_name]]),t[32]||(t[32]=e("p",{class:"mt-1 text-xs text-gray-500"},'Leave blank to use "Player1 & Player2"',-1))]),e("div",ut,[e("button",{type:"button",onClick:t[7]||(t[7]=s=>x.value=!1),class:"btn btn-secondary"},"Cancel"),e("button",{type:"submit",class:"btn btn-primary",disabled:i(c).processing},r(w.value?"Save Changes":"Add Pair"),9,mt)])],32)])])):y("",!0)]))]),_:1}))}},ht=ne(ct,[["__scopeId","data-v-5bbad669"]]);export{ht as default};
