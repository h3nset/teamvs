import{j as w,a as h,w as p,b,d as t,u as s,h as k,l as g,e as u,y as _,f as m,k as x,m as l,z as i,o as d,t as V,n as v,A as f}from"./app-BlX80OYe.js";import{A as M}from"./AppLayout-D2YrHdCO.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"max-w-2xl mx-auto"},B={class:"page-header"},C={key:0,class:"mt-1 text-sm text-red-400"},j={class:"grid grid-cols-2 gap-4"},N=["disabled"],S=["disabled"],T={class:"grid grid-cols-2 gap-4"},q=["disabled"],E={class:"mt-1 text-xs text-gray-500"},z={key:0},A={key:1},D={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2"},P=["disabled"],L=["disabled"],R={key:0,class:"text-sm text-yellow-400"},F={class:"flex justify-end gap-3 pt-4"},O=["disabled"],J={__name:"Edit",props:{tournament:Object},setup(r){const o=r,n=w({name:o.tournament.name,description:o.tournament.description||"",pairs_per_team:o.tournament.pairs_per_team,rounds:o.tournament.rounds,max_matches_per_pair:o.tournament.max_matches_per_pair,points_per_set:o.tournament.points_per_set,scoring_mode:o.tournament.scoring_mode||"unlimited"}),y=()=>{n.put(route("tournaments.update",o.tournament.id))};return(c,e)=>(d(),h(M,null,{default:p(()=>[b(s(k),{title:`Edit ${r.tournament.name}`},null,8,["title"]),t("div",U,[t("div",B,[t("div",null,[b(s(g),{href:c.route("tournaments.show",r.tournament.id),class:"text-gray-400 hover:text-white text-sm flex items-center gap-1 mb-2"},{default:p(()=>[...e[8]||(e[8]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),u(" Back to tournament ",-1)])]),_:1},8,["href"]),e[9]||(e[9]=t("h1",{class:"page-title"},"Edit Tournament",-1))])]),t("form",{onSubmit:_(y,["prevent"]),class:"card p-6 space-y-6"},[t("div",null,[e[10]||(e[10]=t("label",{class:"label"},"Tournament Name",-1)),l(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>s(n).name=a),type:"text",class:"input",required:""},null,512),[[i,s(n).name]]),s(n).errors.name?(d(),m("p",C,V(s(n).errors.name),1)):x("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{class:"label"},"Description",-1)),l(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>s(n).description=a),class:"input",rows:"3"},null,512),[[i,s(n).description]])]),t("div",j,[t("div",null,[e[12]||(e[12]=t("label",{class:"label"},"Pairs per Team",-1)),l(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s(n).pairs_per_team=a),type:"number",class:"input",min:"2",max:"10",required:"",disabled:r.tournament.status!=="draft"},null,8,N),[[i,s(n).pairs_per_team,void 0,{number:!0}]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"label"},"Number of Rounds",-1)),l(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>s(n).rounds=a),type:"number",class:"input",min:"1",max:"20",required:"",disabled:r.tournament.status!=="draft"},null,8,S),[[i,s(n).rounds,void 0,{number:!0}]])])]),t("div",T,[t("div",null,[e[14]||(e[14]=t("label",{class:"label"},"Max Matches per Pair",-1)),l(t("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>s(n).max_matches_per_pair=a),type:"number",class:"input",min:"1",max:"20",required:"",disabled:r.tournament.status!=="draft"},null,8,q),[[i,s(n).max_matches_per_pair,void 0,{number:!0}]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"label"},"Points per Set",-1)),l(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>s(n).points_per_set=a),type:"number",class:"input",min:"1",max:"100",required:""},null,512),[[i,s(n).points_per_set,void 0,{number:!0}]]),t("p",E,[s(n).scoring_mode==="unlimited"?(d(),m("span",z,"Max points per side")):(d(),m("span",A,"Total points to end match"))])])]),t("div",null,[e[18]||(e[18]=t("label",{class:"label"},"Scoring Mode",-1)),t("div",D,[t("label",{class:v(["relative flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all",[s(n).scoring_mode==="unlimited"?"border-primary bg-primary/10":"border-gray-700 hover:border-gray-600",r.tournament.status!=="draft"?"opacity-60 cursor-not-allowed":""]])},[l(t("input",{type:"radio","onUpdate:modelValue":e[6]||(e[6]=a=>s(n).scoring_mode=a),value:"unlimited",class:"sr-only",disabled:r.tournament.status!=="draft"},null,8,P),[[f,s(n).scoring_mode]]),e[16]||(e[16]=t("div",null,[t("div",{class:"font-semibold text-white flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),u(" Unlimited ")]),t("p",{class:"text-sm text-gray-400 mt-1"},"Each side can score up to max points. Manual match completion.")],-1))],2),t("label",{class:v(["relative flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all",[s(n).scoring_mode==="americano"?"border-primary bg-primary/10":"border-gray-700 hover:border-gray-600",r.tournament.status!=="draft"?"opacity-60 cursor-not-allowed":""]])},[l(t("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=a=>s(n).scoring_mode=a),value:"americano",class:"sr-only",disabled:r.tournament.status!=="draft"},null,8,L),[[f,s(n).scoring_mode]]),e[17]||(e[17]=t("div",null,[t("div",{class:"font-semibold text-white flex items-center gap-2"},[t("svg",{class:"w-5 h-5 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),u(" Americano ")]),t("p",{class:"text-sm text-gray-400 mt-1"},"Match ends when combined score reaches target (e.g., 12+9=21).")],-1))],2)])]),r.tournament.status!=="draft"?(d(),m("p",R," Some settings cannot be changed after the tournament has started. ")):x("",!0),t("div",F,[b(s(g),{href:c.route("tournaments.show",r.tournament.id),class:"btn btn-secondary"},{default:p(()=>[...e[19]||(e[19]=[u(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",class:"btn btn-primary",disabled:s(n).processing}," Save Changes ",8,O)])],32)])]),_:1}))}};export{J as default};
